<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>bes: agg_util::WeakRCPtr&lt; T &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">bes
   &#160;<span id="projectnumber">Updated for version 3.20.8-314</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/d17/classagg__util_1_1WeakRCPtr.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../dc/d1c/classagg__util_1_1WeakRCPtr-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">agg_util::WeakRCPtr&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../dc/d66/RCObject_8h_source.html">RCObject.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for agg_util::WeakRCPtr&lt; T &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dde/classagg__util_1_1WeakRCPtr__coll__graph.png" border="0" usemap="#agg__util_1_1WeakRCPtr_3_01T_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="agg__util_1_1WeakRCPtr_3_01T_01_4_coll__map" id="agg__util_1_1WeakRCPtr_3_01T_01_4_coll__map">
<area shape="rect" id="node2" href="../../db/db0/classagg__util_1_1UseCountHitZeroCB.html" title="{agg_util::UseCountHitZeroCB\n||+ executeUseCountHitZeroCB()\l+ UseCountHitZeroCB()\l+ ~UseCountHitZeroCB()\l}" alt="" coords="5,5,216,112"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac69fcb094a7fd3a439e950320b593da2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html#ac69fcb094a7fd3a439e950320b593da2">clear</a> ()</td></tr>
<tr class="separator:ac69fcb094a7fd3a439e950320b593da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a035dfbe795a8367517d806a41f8dd3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html#a0a035dfbe795a8367517d806a41f8dd3">empty</a> () const </td></tr>
<tr class="separator:a0a035dfbe795a8367517d806a41f8dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa6c7a9a8d426c6af14528e231f55079"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html#aaa6c7a9a8d426c6af14528e231f55079">executeUseCountHitZeroCB</a> (<a class="el" href="../../d2/dfb/classagg__util_1_1RCObject.html">RCObject</a> *pAboutToDie)</td></tr>
<tr class="separator:aaa6c7a9a8d426c6af14528e231f55079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f2cb558423a3169d7506ec73db957a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html#af4f2cb558423a3169d7506ec73db957a">expired</a> () const </td></tr>
<tr class="separator:af4f2cb558423a3169d7506ec73db957a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdf8f7e8e2d844901ebf5f6d7e5c20cf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afdf8f7e8e2d844901ebf5f6d7e5c20cf"></a>
<a class="el" href="../../d6/d10/classagg__util_1_1RCPtr.html">RCPtr</a>&lt; T &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>lock</b> () const </td></tr>
<tr class="separator:afdf8f7e8e2d844901ebf5f6d7e5c20cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd1580fd52ef8c5274120904e3389eaf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd1580fd52ef8c5274120904e3389eaf"></a>
<a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html">WeakRCPtr</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html">WeakRCPtr</a> &amp;r)</td></tr>
<tr class="separator:acd1580fd52ef8c5274120904e3389eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac436ddc3c19f1ff428071c90d71629c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html#ac436ddc3c19f1ff428071c90d71629c7">WeakRCPtr</a> ()</td></tr>
<tr class="separator:ac436ddc3c19f1ff428071c90d71629c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a096b34a028e3b6c389da36333915e2d7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a096b34a028e3b6c389da36333915e2d7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>WeakRCPtr</b> (<a class="el" href="../../d6/d10/classagg__util_1_1RCPtr.html">RCPtr</a>&lt; T &gt; src)</td></tr>
<tr class="separator:a096b34a028e3b6c389da36333915e2d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class T&gt;<br />
class agg_util::WeakRCPtr&lt; T &gt;</h3>

<p>A variant of boost::weak_ptr that uses our intrusive <a class="el" href="../../d2/dfb/classagg__util_1_1RCObject.html" title="A base class for a simple reference counted object. ">RCObject</a> counting.</p>
<p>WeakRCPtr&lt;T&gt; is used to refer weakly to a class T where T inherits from <a class="el" href="../../d2/dfb/classagg__util_1_1RCObject.html" title="A base class for a simple reference counted object. ">RCObject</a>.</p>
<p>NOTE: These are NOT thread-safe!!</p>
<p>By weak we mean that RCWeakPtr&lt;T&gt; does not change the use count of the wrapped object. Also it may transition from containing a valid ptr to containing NULL if the <a class="el" href="../../d2/dfb/classagg__util_1_1RCObject.html" title="A base class for a simple reference counted object. ">RCObject</a> it wraps is deleted by its use count going to 0. Therefore, similarly to boost::weak_ptr, a lock() function is provided to return a new RCPtr&lt;T&gt; for the object which ups its ref count and therefore maintains the life of the object for the duration of the use of the ptr returned from lock().</p>
<p>get() is provided as access to the raw ptr BUT NOTE THAT IT IS NOT SAFE. The memory may go away during the use of the returned ptr, so lock() is the preferred method to get the resource. get() is useful for checking for null of the wrapped ptr. </p>

<p>Definition at line <a class="el" href="../../dc/d66/RCObject_8h_source.html#l00412">412</a> of file <a class="el" href="../../dc/d66/RCObject_8h_source.html">RCObject.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac436ddc3c19f1ff428071c90d71629c7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html">agg_util::WeakRCPtr</a>&lt; T &gt;::<a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html">WeakRCPtr</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default contains NULL </p>

<p>Definition at line <a class="el" href="../../dc/d66/RCObject_8h_source.html#l00418">418</a> of file <a class="el" href="../../dc/d66/RCObject_8h_source.html">RCObject.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac69fcb094a7fd3a439e950320b593da2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html">agg_util::WeakRCPtr</a>&lt; T &gt;::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove any listener and NULL the wrapped pointer. On Exit: <a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html#af4f2cb558423a3169d7506ec73db957a">expired()</a> </p>

<p>Definition at line <a class="el" href="../../dc/d66/RCObject_8h_source.html#l00472">472</a> of file <a class="el" href="../../dc/d66/RCObject_8h_source.html">RCObject.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0a035dfbe795a8367517d806a41f8dd3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> <a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html">agg_util::WeakRCPtr</a>&lt; T &gt;::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Will getting a lock() return a null? </p>

<p>Definition at line <a class="el" href="../../dc/d66/RCObject_8h_source.html#l00452">452</a> of file <a class="el" href="../../dc/d66/RCObject_8h_source.html">RCObject.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaa6c7a9a8d426c6af14528e231f55079"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html">agg_util::WeakRCPtr</a>&lt; T &gt;::executeUseCountHitZeroCB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dfb/classagg__util_1_1RCObject.html">RCObject</a> *&#160;</td>
          <td class="paramname"><em>pAboutToDie</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Listener callback from the <a class="el" href="../../d2/dfb/classagg__util_1_1RCObject.html" title="A base class for a simple reference counted object. ">RCObject</a> to implement the interface. This is called when the wrapped <a class="el" href="../../d2/dfb/classagg__util_1_1RCObject.html" title="A base class for a simple reference counted object. ">RCObject</a> ref count goes to 0 so we can safely disconnect. </p>

<p>Implements <a class="el" href="../../db/db0/classagg__util_1_1UseCountHitZeroCB.html">agg_util::UseCountHitZeroCB</a>.</p>

<p>Definition at line <a class="el" href="../../dc/d66/RCObject_8h_source.html#l00487">487</a> of file <a class="el" href="../../dc/d66/RCObject_8h_source.html">RCObject.h</a>.</p>

</div>
</div>
<a class="anchor" id="af4f2cb558423a3169d7506ec73db957a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> <a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html">agg_util::WeakRCPtr</a>&lt; T &gt;::expired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Will getting a lock() return a null? </p>

<p>Definition at line <a class="el" href="../../dc/d66/RCObject_8h_source.html#l00446">446</a> of file <a class="el" href="../../dc/d66/RCObject_8h_source.html">RCObject.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../dc/d66/RCObject_8h_source.html">RCObject.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d2/d95/namespaceagg__util.html">agg_util</a></li><li class="navelem"><a class="el" href="../../d6/d17/classagg__util_1_1WeakRCPtr.html">WeakRCPtr</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
